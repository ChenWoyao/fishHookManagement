{"ast":null,"code":"var _context2;\n\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";\nimport _Array$from from \"@babel/runtime-corejs3/core-js-stable/array/from\";\nimport _Symbol from \"@babel/runtime-corejs3/core-js-stable/symbol\";\nimport _getIteratorMethod from \"@babel/runtime-corejs3/core-js/get-iterator-method\";\nimport _Array$isArray from \"@babel/runtime-corejs3/core-js-stable/array/is-array\";\nimport _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";\nimport _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _padStartInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/pad-start\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context = Object.prototype.toString.call(o)).call(_context, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof _Symbol !== \"undefined\" && _getIteratorMethod(arr) || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport styles from './index.module.scss';\nimport './index.css';\nimport { Form, Input, Button, Select, Row, Col } from 'antd';\nimport { setLineOption, setPieOption } from './option';\nimport { parseDate, getCurrentMonthDays, createRandomNums, debounce } from '../../utils/help';\nimport StatusTable from './statusTable';\nimport ProductionTable from './productionTable';\nimport * as echarts from 'echarts';\n\nvar log = _bindInstanceProperty(_context2 = console.log).call(_context2, console);\n\nvar createDateList = function createDateList() {\n  var days = getCurrentMonthDays();\n  var date = new Date();\n  var month = date.getMonth() + 1;\n  var year = date.getFullYear();\n  return _Array$from(new Array(days), function (day, index) {\n    var _context3, _context4, _context5, _context6;\n\n    var value = index + 1;\n    return _concatInstanceProperty(_context3 = _concatInstanceProperty(_context4 = \"\".concat(year, \"-\")).call(_context4, _padStartInstanceProperty(_context5 = month.toString()).call(_context5, 2, '0'), \"-\")).call(_context3, _padStartInstanceProperty(_context6 = value.toString()).call(_context6, 2, '0'));\n  });\n};\n\nvar createPieData = function createPieData() {\n  return [{\n    name: '苍蝇钩',\n    value: 30\n  }, {\n    name: '蚯蚓钩',\n    value: 40\n  }, {\n    name: '蚊子钩',\n    value: 310\n  }, {\n    name: '蜈蚣钩',\n    value: 80\n  }, {\n    name: '虫子钩',\n    value: 60\n  }];\n};\n\nvar ProductionStaffHome = function ProductionStaffHome() {\n  var lineRef = useRef();\n  var pieRef = useRef();\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var Option = Select.Option;\n  var dateList = createDateList();\n  var dataList = createRandomNums(getCurrentMonthDays(), 0, 150);\n  var pieDataList = createPieData();\n  useEffect(function () {\n    var lineChart = echarts.init(lineRef.current, null, {\n      height: 400\n    });\n    var pieChart = echarts.init(pieRef.current, null, {\n      height: 300\n    });\n    DrawLine(lineChart, dateList, dataList);\n    DrawPie(pieChart, pieDataList);\n    var withResizeChart = debounce(function () {\n      lineChart === null || lineChart === void 0 ? void 0 : lineChart.resize({\n        width: 'auto',\n        height: 'auto'\n      });\n      pieChart === null || pieChart === void 0 ? void 0 : pieChart.resize({\n        width: 'auto',\n        height: 'auto'\n      });\n    }, 100, false);\n    window.addEventListener('resize', withResizeChart);\n    return function () {\n      lineChart.dispose();\n      pieChart.dispose();\n      window.removeEventListener('resize', withResizeChart);\n    };\n  }, [dateList, dataList]);\n\n  var onFinish = function onFinish(values) {};\n\n  var onReset = function onReset() {\n    form.resetFields();\n  };\n\n  var DrawLine = function DrawLine(chart, dateList, dataList) {\n    chart.clear();\n    chart.setOption(setLineOption(dateList, dataList));\n  };\n\n  var DrawPie = function DrawPie(chart, datalist) {\n    chart.clear();\n    chart.setOption(setPieOption(datalist));\n  };\n\n  var onProductionChange = function onProductionChange(value) {\n    switch (value) {\n      case 'male':\n        // form.setFieldsValue({\n        //   note: 'Hi, man!',\n        // });\n        return;\n\n      case 'female':\n        return;\n\n      case 'other':\n        return;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['container']\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['content-container']\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles['chart-label']\n  }, \"\\u672C\\u6708\\u7684\\u751F\\u4EA7\\u6570\\u636E\\u663E\\u793A:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['linebox'],\n    ref: lineRef\n  }, \"linebox\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles['chart-label'],\n    style: {\n      marginTop: '100px'\n    }\n  }, \"\\u672C\\u6708\\u4E2A\\u4EBA\\u751F\\u4EA7\\u7684\\u4EA7\\u54C1\\u6570\\u636E\\u663E\\u793A:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['piebox'],\n    ref: pieRef\n  }, \"piebox\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles['form-label'],\n    style: {\n      marginTop: '40px'\n    }\n  }, \"\\u63D0\\u4EA4\\u4E00\\u4E2A\\u4EA7\\u54C1\\u7684\\u751F\\u4EA7\\u91CF:\"), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onFinish: onFinish,\n    className: styles['myForm']\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"type\",\n    label: \"\\u4EA7\\u54C1\",\n    className: styles['myForm-item'],\n    rules: [{\n      required: true\n    }]\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"\\u9009\\u62E9\\u4E00\\u4E2A\\u4EA7\\u54C1\",\n    onChange: onProductionChange,\n    className: styles['myForm-item__select'],\n    allowClear: true\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"male\"\n  }, \"male\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"female\"\n  }, \"female\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"other\"\n  }, \"other\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"count\",\n    label: \"\\u6570\\u91CF\",\n    className: styles['myForm-item'],\n    rules: [{\n      required: true\n    }]\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: styles['myForm-item__input']\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    className: styles['myForm-item--last']\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: styles['myForm-item__button']\n  }, \"Submit\"), /*#__PURE__*/React.createElement(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    className: styles['myForm-item__button']\n  }, \"Reset\"))), /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles['chart-label']\n  }, \"\\u4E2A\\u4EBA\\u7684\\u5168\\u90E8\\u751F\\u4EA7\\u6570\\u636E\\u663E\\u793A:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['production-table']\n  }, /*#__PURE__*/React.createElement(ProductionTable, {\n    dataSource: []\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles['chart-label']\n  }, \"\\u4E2A\\u4EBA\\u63D0\\u4EA4\\u7684\\u751F\\u4EA7\\u8BA2\\u5355\\u65E5\\u5FD7:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['status-table']\n  }, /*#__PURE__*/React.createElement(StatusTable, {\n    dataSource: []\n  }))));\n};\n\nexport default /*#__PURE__*/React.memo(ProductionStaffHome);","map":null,"metadata":{},"sourceType":"module"}